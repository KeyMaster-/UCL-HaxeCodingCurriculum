<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Lesson 6 | Coding Curriculum</title>
<link href="css/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/fonts.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="scripts/prettify.js"></script>
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body onload="prettyPrint()">
<div id="wrapper">
    <div id="header-wrapper">
        <div id="header" class="container">
            <div id="logo">
                <h1><a href="#">Coding Curriculum</a></h1>
            </div>
        </div>
    </div>
    <div id="menu-wrapper">
        <div id="menu" class="container">
            <ul>
                <li><a href="index.html">Homepage</a></li>
                <li class="current_page_item"><a href="#">Lessons</a></li>
            </ul>
        </div>
        <!-- end #menu --> 
    </div>
    <div id="page" class="container">
        <div id="content">
            <div class="title">
                <h2>Lesson 6</h2>
                <span class="byline">Arrays, Loops and Adding Target Objects </span> 
            </div>


			<p>At this point we have learned a lot of different concepts related to programming. This lesson will draw on concepts we have learend from lesson 1 related to variables and data types as well as Lesson 2. </p>

                <h3>Arrays</h3>

				<p>Arrays are a convenient way to store multiple values in a single variable. </p>
				<p>They are defined like this:<br>
				<pre class="prettyprint"><code class="language-haxe">var myArray = new Array&ltString>();</code></pre></p>

				<p>This declares <code>myArray</code> as a new array that can store values of the <code>String</code> data type.</p>

                At this point our array contains no values, we can confirm that by using the <code>.length</code> method on the array:<br>

                <pre class="prettyprint"><code class="language-haxe">trace(myArray.length);</code></pre><br>

				<p>This should print <code>0</code> to the screen.</p>

                We can add values to the end of our array using the array method <code>push</code>:<br>

                <pre class="prettyprint"><code class="language-haxe">myArray.push('hello');
myArray.push('goodbye');</code></pre>
                
                And we can access array elements using square brackets and indices after the variable name:<br>
                <pre class="prettyprint"><code class="language-haxe">trace(myArray[0]); //prints "hello"
trace(myArray[1]); //prints "goodbye"</code></pre>


				<p>At this point if we visualise the array as a column in an excel spreadsheet, the indexes refer to the row numbers for that column (starting from 0 not 1). </p>

				<p>Notice we are able to add values to the 9th index position even though nothing was added in between <code>hello</code> and <code>goodbye</code>.</p>

				<p>Arrays in Haxe are also dynamic, which means they dont have a fixed sized and can hold as many values as can fit in memory. </p>

				<p>A full list of Haxe Array methods can be found <a href="http://api.haxe.org/Array.html">here</a>, play around with them to figure out what they do and how you can use them. </p><br>
                

                <h3>Loops</h3>                

				<p>Loops provide a way for us to repeat lines of code without typing them out again and again.</p>

                There are two main ways to loop in Haxe: <code>while</code> loops and <code>for</code> loop.  <br>

                <h4>While Loops</h4>

                <p>While loops work by executing code as long as a condition is true.</p>

                <p>For example, in english we could say, while we have not yet reached the end of the array, print the next item in the array.</p>

                In code this would look something like this:<br>

                <pre class="prettyprint"><code class="language-haxe">var n = 0;
while(n < myArray.length){
    trace(myArray[n]);
    n = n + 1; //move to the next element in the array
}</code></pre><br>


				<p>Here our condition is within the round brackets: <code> (n < myArray.length) </code> we initially declare this variable <code>n</code> and set it to 0. </p>

				<p>Our code then checks the condition in the while loop and if it is true then it will execute the code in the following curly brackets: <code> trace(myArray[n]); </code>.
				</p>
				
				<p>Once this code has finished executing, the program will again check the condition in the while loop, therefore looping until the condition is false. </p>

				<p><i>Note: This means that there is a chance that the code inside the curly brackets may never actually execute as the condition may be always false. </i></p>


                <h4>Do-While Loops</h4>

                This is where Do-While loops come in. These work essentially the same way as while loops, except the condition is placed after the code that is to be looped, therefore meaning the code will always execute at least once.
                <pre class="prettyprint"><code class="language-haxe">var n = 0;
do {
    trace(myArray[n]);
} while(n < myArray.length);</code></pre>

                <h4>For Loops</h4>


				<p>For loops work differently to while and do-while loops however.</p>

				<p>These loops, instead of looping based on a condition, loop for a set number of times. </p>

                For example, if we were to print each item in our array using a for loop instead of a while loop it would look something like this:

                <pre class="prettyprint"><code class="language-haxe">for(value in myArray){
    trace(value);
}</code></pre><br>


				<p>This code iterates through elements in the array and prints each one, therefore only looping a number of times equal to the length of the array.</p>

                Another way we could use the for loop is like this:
                <pre class="prettyprint"><code class="language-haxe">for(index in 0...myArray.length){
    trace(myArray[index]);
}</code></pre><br>


				<p>This method iterates through a range of numbers between 0 and the length of our array, then prints the item at that index.</p>

                <h2>Exercise 6</h2><br>

                <h3>Adding Target Objects</h3>


				<p>For this exercise, we will need to work with a new object - the <code> Target</code> object.</p>

				<p>Firstly, create a new class file in the <code>entities</code> folder and name it <code>Target.hx</code>. </p>

				<p>Have the Target extend the Entity class and write a constructor method for this class.
				<i> (Refer to Lesson 3 if you forgot how to do this.)</i></p>

				<p>This object will now represent the target in our game that we have to try and hit to score points. </p><br>


                <h3>Updating our Update</h3>


				<p>Next, we need to make some additions to our <code>Game.hx</code> file.</p><br>

                <li>Create an array that stores values of the Target data-type.</li><br>
                <li>In the update function, iterate over all target objects in this array</li><br>
                <li> Check if our player overlaps with any of these targets. If so, set <code>gameover</code> to <code>true</code>.</li><br>
                <li>Check if the missile overlaps with any of these targets. If so execute this line <code> repositionTarget(target); </code>. We will add this function later.</li><br>
                <li>Finally draw each target.</li><br>

                <h3>Reposition Those Targets</h3>

				<p>Now we need to add our <code> repositionTarget(target) </code> function.<br>
				This small function serves to easily reposition the target to a random location on the screen.</p>

				<p>Using our knowledge of functions from Lesson 2, create a function <code>repositionTarget()</code> that takes a single parameter of type <code>Target</code>.</p>

				<p>Then change the <code>x</code> and <code>y</code> values of this object to random values within the bounds of our screen.</p>

				<i>Hint: Use Math.random() to generate a random number</i></p>

				<p>Also take into consideration the possibility of randomly repositioning our target to the same position our player object is in, this will automatically kill the player!</p>
                <h3>Clean Up</h3>

				<p>At this stage we have a new object, a way to check if that object overlaps with any other object, some code to deal with what happens in that case and a function to reposition the target. </p>

				<p>Now we need a way to reset the targets when the player wants to play again.</p>

				<p>In our <code>reset()</code> function in <code>Game.hx</code> move all the player related reset code to a new function and call it <code>resetPlayer()</code>.</p>

				<p>Then put a call to this function at the beginning of our <code>reset()</code> function.</p>

				<p>Now we need to write the code to reset our targets after resetting the player.</p>

                The code should achieve the following:<br><br><i>
                <li>Destroy all current targets if there are some still active</li><br>
                <li>Reset the targets Array to an empty array</li><br>
                <li>Create a new target object</li><br>
                <li>Reposition that object</li><br>
                <li>Add that object to our array of targets</li><br><br><br></i>

                Congratulations you have now added targets to our game!

        </div>
        <div id="sidebar">
            <div class="box2">
                <div class="title">
                    <h2>Lesson navigation</h2>
                </div>
                <ul class="style2">
                    <li><a href="lesson0.html">Lesson 0</a></li>
                    <li><a href="lesson1.html">Lesson 1</a></li>
                    <li><a href="lesson2.html">Lesson 2</a></li>
                    <li><a href="lesson3.html">Lesson 3</a></li>
                    <li><a href="lesson4.html">Lesson 4</a></li>
                    <li><a href="lesson5.html">Lesson 5</a></li>
                    <li><a href="lesson6.html">Lesson 6</a></li>
                    <li><a href="lesson7.html">Lesson 7</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>


</body>
</html>
