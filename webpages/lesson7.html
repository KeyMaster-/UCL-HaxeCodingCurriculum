<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Lesson 7 | Coding Curriculum</title>
<link href="css/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/fonts.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="scripts/prettify.js"></script>
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body onload="prettyPrint()">
<div id="wrapper">
	<div id="header-wrapper">
		<div id="header" class="container">
			<div id="logo">
				<h1><a href="#">Coding Curriculum</a></h1>
			</div>
		</div>
	</div>
	<div id="menu-wrapper">
		<div id="menu" class="container">
			<ul>
				<li><a href="index.html">Homepage</a></li>
				<li class="current_page_item"><a href="#">Lessons</a></li>
			</ul>
		</div>
		<!-- end #menu --> 
	</div>
	<div id="page" class="container">
		<div id="content">
			<div class="title">
				<h2>Lesson 7</h2>
				<span class="byline">Keeping score. Polishing. Extension ideas.</span> 
			</div>
				<p>So far, we've built up the core aspects of the game. Let's finish off by making the game keep score, and polish a few of the cruder aspects.</p>
				<p>Besides being able to show off your mastery of the game, keeping score could allow you to make the game more interactive by adding new features at certain score levels. To keep score, we'll need to create a variable that is incremented every time the <code>Target</code> is collected. It makes the most sense to put this code next to the code which repositions the target in the main <code>Game</code> loop. To display the score variable, we'll use the <code>text</code> function in class <code>Vis</code>. Since the <code>vis</code> object in the <code>Framework</code> is marked as <code>static</code>, the full function to use will be then <code>Framework.vis.text([parameters])</code>. Open up <code>systems/Vis.hx</code> in the source code to see the parameters the function takes (you may also need to look up <a href="https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D" target="_blank">CanvasRenderingContext2D</a>). Hint: To pass a variable called <code>myScore</code> into the text to be displayed, we can do something like <code>"Current score: $myScore"</code>. </p>
				<p>After keeping track of the score, it's possible to make some aspects of the game change when the score is a certain value, for example, add two targets after a certain threshold or every three successful collisions. This can be achieved by using an <code>if</code>-statement to test the value of your score variable after incrementing it, and making some changes to the game, for example, adding a <code>new Target</code>. Don't forget to push it to the <code>targets</code> array! 
<pre class="prettyprint"><code class="language-haxe">if (score > 10) {
    // do something cool here!
}</code></pre></p>
				<p>We should also do a bit of polishing by not allowing the player to move past the boundaries of the frame. To do this, open up the <code>Player.hx</code> file. Under the code that moves the player, we should add code that checks if the player is attempting to move outside of the boundary, and prevent this. Fortunately, there's a function in <code>Util.hx</code> that does exactly this! Use <code>Util.clamp()</code> with the appropriate parameters to make sure the x and y coordinates of the player are kept within the bounds of the frame.</p>
				<p>To make the game even more interactive and challenging, we can make the missile bounce whenever it collides with a target or the sides of the frame.</p>
				<p>Let's make a new function called <code>bounce()</code> inside <code>Missile.hx</code>. To make it bounce, we can use some of our knowledge about vectors, and multiply the <code>velocity</code> of the <code>Missile</code> by a negative value.</p>
				<p>Let's use this function and the earlier <code>clamp</code> function to make the missile bounce off the sides of the frames. Below the code that moves the missile, use an <code>if</code>-statement to check if the position of the missile is outside the <code>Framework.vis.canvas_width</code> or <code>Framework.vis.canvas_height</code>, use clamp to make sure it stays within the frame, and then bounce the missile.
<pre class="prettyprint"><code class="language-haxe">if (/* check if missile is outside the frame boundaries) {
    // Clamp the missile within the frame boundary
    // Bounce the missile using your new bounce() function
}</code></pre></p>
				<p>Also, to make the missile bounce off targets, find the code that checks if the missile has indeed hit a target and add the <code>bounce()</code> function just below it. Don't forget that it needs to be called on the missile object that you've created.</p>

				<h2>Exercise 7</h2><br />
				<p>Complete the tasks specified above with your own creativity.</p>
				<p>Add your own features to the game! Some ideas could be making the game multiplayer by having more than one <code>Player</code> object, or if you're looking for a challenge, add powerups!</p>
		</div>
		<div id="sidebar">
			<div class="box2">
				<div class="title">
					<h2>Lesson navigation</h2>
				</div>
				<ul class="style2">
					<li><a href="lesson0.html">Lesson 0</a></li>
					<li><a href="lesson1.html">Lesson 1</a></li>
					<li><a href="lesson2.html">Lesson 2</a></li>
					<li><a href="lesson3.html">Lesson 3</a></li>
					<li><a href="lesson4.html">Lesson 4</a></li>
					<li><a href="lesson5.html">Lesson 5</a></li>
					<li><a href="lesson6.html">Lesson 6</a></li>
					<li><a href="lesson7.html">Lesson 7</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>


</body>
</html>
