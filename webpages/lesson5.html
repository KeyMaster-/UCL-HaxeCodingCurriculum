<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Lesson 5 | Coding Curriculum</title>
<link href="css/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/fonts.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="scripts/prettify.js"></script>
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body onload="prettyPrint()">
<div id="wrapper">
	<div id="header-wrapper">
		<div id="header" class="container">
			<div id="logo">
				<h1><a href="#">Coding Curriculum</a></h1>
			</div>
		</div>
	</div>
	<div id="menu-wrapper">
		<div id="menu" class="container">
			<ul>
				<li><a href="index.html">Homepage</a></li>
				<li class="current_page_item"><a href="#">Lessons</a></li>
			</ul>
		</div>
		<!-- end #menu --> 
	</div>
	<div id="page" class="container">
		<div id="content">
			<div class="title">
				<h2>Lesson 5</h2>
				<span class="byline">COLLISION DETECTION - DEATHS, GAME OVER, RESTART</span> 
			</div>
			<p>For the game to be playable, we need to make it such that the player dies when the missile collides with the player’s rectangle.  We also want the game to be restart so we can play again.</p>
			<p><b>Collision</b></p>
			<p>Put yourself in the shoes of the screen. When will you consider 2 objects have collided? It is when the 2 objects overlap. In other words, if 2 objects share the same pixel on the screen, they are colliding.</p>
			<p><b>Reset</b></p>
			<p>Every time we reset the game, we want the player to start at the same position. A nice and visible place for that is the center of the screen, which you can calculate using the <code>Framework.vis.canvas_width</code> and <code>Framework.vis.canvas_height</code> variables. The missile should also start at a consistent place, but not on top of the player, since then they would instantly die! Instead, we'll place the missile above and to the left of the player, say, a third of the screen width away from the left border.</p>
			<p><b>Game Over</b></p>
			<p>We want to continually check whether the game has ended. And if the game has ended, we want to display a message that says “ GAME OVER” then asks the user to hit enter to play again. </p>
			<p><b>Exercise 5</b></p>
			<p>Firstly, open up the file <code>Game.hx</code>.<p>
			<p>To end the game, we need to have a type of variable that can only be true or false. Can you think of any? Add this attribute to the Game class. Set it so that the game is NOT over.</p>
			<p>Next, create a reset function that resets the game. It should not take in or return any parameters! </p>
			<p>Next, we will be working in <code>public function update(dt:Float)</code>. Firstly at the bottom of the function (after <code>missile.draw()</code> but before curly closing braces), add an if statement to check if the player and missile had collided. If so, set the earlier “game over” attribute so that it indicates the game is over.</p> 
			<p>Hint: The funciton <code>player.rect.overlaps(missile.rect)</code> returns a Bool value when the player's rectangle overlaps the missile.</p>
			<p>Next, after <code>Framework.vis.clear();</code>, add another if statement that checks whether the game is over, and if so, displays a game over message and asks the player to hit enter to restart. Lastly, add an if statement in this if statement, that calls <code>reset()</code> if enter was pressed. </p>
			<p>Hint: use <code>Framework.vis.text</code> to display text on the screen. This function can be found in the file <code>systems/Vis.hx</code>, so look there to see what the parameters to it are!<br>
			Double Hint:   The key code for ENTER is 13!</p> 

				
		</div>
		<div id="sidebar">
			<div class="box2">
				<div class="title">
					<h2>Lesson navigation</h2>
				</div>
				<ul class="style2">
					<li><a href="lesson0.html">Lesson 0</a></li>
					<li><a href="lesson1.html">Lesson 1</a></li>
					<li><a href="lesson2.html">Lesson 2</a></li>
					<li><a href="lesson3.html">Lesson 3</a></li>
					<li><a href="lesson4.html">Lesson 4</a></li>
					<li><a href="lesson5.html">Lesson 5</a></li>
					<li><a href="lesson6.html">Lesson 6</a></li>
					<li><a href="lesson7.html">Lesson 7</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>


</body>
</html>
